"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class t{constructor(e=t.Store){return this.Events={},this.on=this._subscribe,this.emit=this._publish,this.off=this._remove,this.clear=this._clear,e instanceof t?e:t.Store.has(e)?t.Store.get(e):void t.Store.set(e,this)}_subscribe(t,e){("string"==typeof t?[t]:t).forEach(t=>{this.Events[t]||(this.Events[t]=[]),this.Events[t].some(t=>t===e)||this.Events[t].push(e)})}_publish(t,...e){("string"==typeof t?[t]:t).forEach(t=>{const s=this.Events[t];s&&s.forEach(t=>{t(...e)})})}_remove(t,e){const s=this.Events[t];if(s){const t=s.findIndex(t=>t===e);if(t>=0)return s.splice(t,1),!0}return!1}_clear(t){return t in this.Events&&Reflect.deleteProperty(this.Events,t)}}function e(e=t.Store){return new t(e)}t.Store=new WeakMap;const s=new t;e.on=s.on,e.emit=s.emit,e.off=s.off,e.clear=s.clear;exports.JEvent=class{constructor(){this.$jevent=new t(this),this.on=this.$jevent.on,this.emit=this.$jevent.emit,this.off=this.$jevent.off,this.clear=this.$jevent.clear}},exports.default=e;
